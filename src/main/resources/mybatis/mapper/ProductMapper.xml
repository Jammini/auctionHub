<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.flab.auctionhub.product.dao.ProductMapper" >

  <insert id="save" useGeneratedKeys="true" keyProperty="id">
    INSERT INTO product (name, description, selling_status, quick_price, start_bid_price, min_bid_price, started_at)
    VALUES (#{name}, #{description}, #{sellingStatus}, #{quickPrice}, #{startBidPrice}, #{minBidPrice}, #{startedAt})
    <selectKey keyColumn="id" keyProperty="id" resultType="Long" order="AFTER">
      SELECT last_insert_id()
    </selectKey>
  </insert>

  <select id="findAll" resultType="com.flab.auctionhub.product.domain.Product">
    SELECT id, name, description, selling_status, quick_price, start_bid_price, min_bid_price,
           current_bid_price, is_deleted, created_at, created_by, updated_at, updated_by, started_at,
           ended_at
    FROM product;

  </select>




</mapper>


